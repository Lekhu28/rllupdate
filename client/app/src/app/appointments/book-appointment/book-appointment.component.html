<div class="container mt-4">
  <h2>Book Appointment</h2>
  <form #appointmentForm="ngForm" (ngSubmit)="onSubmit()" novalidate>

    <div class="form-group mb-3">
      <label>First Name</label>
      <input type="text" class="form-control" name="firstName" [(ngModel)]="appointment.firstName" required #firstName="ngModel">
      <div *ngIf="firstName.invalid && firstName.touched" class="text-danger">First name is required.</div>
    </div>

    <div class="form-group mb-3">
      <label>Last Name</label>
      <input type="text" class="form-control" name="lastName" [(ngModel)]="appointment.lastName" required #lastName="ngModel">
      <div *ngIf="lastName.invalid && lastName.touched" class="text-danger">Last name is required.</div>
    </div>

    <div class="form-group mb-3">
      <label>Age</label>
      <input type="number" class="form-control" name="age" [(ngModel)]="appointment.age" required #age="ngModel">
      <div *ngIf="age.invalid && age.touched" class="text-danger">Age is required.</div>
    </div>

    <div class="form-group mb-3">
      <label>Contact No. (start with 91 & 10 digits min)</label>
      <input type="text" class="form-control" name="contact" [(ngModel)]="appointment.contact"
             pattern="^91[0-9]{8,}$" required #contact="ngModel">
      <div *ngIf="contact.invalid && contact.touched" class="text-danger">
        Contact number must start with 91 and be at least 10 digits.
      </div>
    </div>

    <div class="form-group mb-3">
      <label>Doctor Name</label>
      <input type="text" class="form-control" name="doctorName" [(ngModel)]="appointment.doctorName" required #doctorName="ngModel">
      <div *ngIf="doctorName.invalid && doctorName.touched" class="text-danger">Doctor name is required.</div>
    </div>

    <div class="form-group mb-3">
      <label>Address</label>
      <textarea class="form-control" name="address" [(ngModel)]="appointment.address" rows="3" required #address="ngModel"></textarea>
      <div *ngIf="address.invalid && address.touched" class="text-danger">Address is required.</div>
    </div>

    <button type="submit" class="btn btn-primary" [disabled]="appointmentForm.invalid">Submit</button>
  </form>

  <div *ngIf="successMessage" class="alert alert-success mt-3">
    {{ successMessage }}
  </div>
</div>
